<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Profile</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <p><a href="/">‚Üê Back</a></p>
    <h1>Profile</h1>

    <div id="content" class="card">Loading...</div>

    <script>
      async function loadProfile() {
        const id = window.location.pathname.split("/").pop();

        const res = await fetch(`/api/profiles/${id}`);
        const box = document.getElementById("content");

        if (!res.ok) {
          box.innerHTML = "Profile not found.";
          return;
        }

        const p = await res.json();

        box.innerHTML = `
        <div class="row">
          <div>
            <h2>${p.name}</h2>
            <p><b>Age:</b> ${p.age}</p>
            <p><b>Bio:</b> ${p.bio}</p>
            <p><small>ID: ${p.id}</small></p>
          </div>
          <div>
            <img src="${p.imageUrl}" alt="Profile Photo" />
          </div>
        </div>
      `;
      }

      loadProfile();
    </script>
  </body>
</html>
